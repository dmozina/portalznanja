{% extends 'base.html' %}

{% block title %} Video {% endblock %}

{% block body_attributes %}ng-controller="VideoStreamCtrl"{% endblock %}
{% block html_attributes %}ng-app="ipriStream"{% endblock %}

{% block body %}
    <div id="videoContainer" ng-view>

    </div>
    {% if user.is_authenticated %}
        <br/><br/><h2>Add new comment: </h2> <br/>
        <label id="numChars">0</label>/1000
        <form name="input" action="/addComment/" method="post" id="myForm">
            <textarea cols="77" rows="8" name="text" maxlength=1000 id="txt"></textarea>
            <input type="text" name="videoId" id="vIdInput" class="hidden">
            <br/>
            <input type="submit" value="Comment!"><br/><label id="result"></label>
        </form>

    {% endif %}
    <script src="{{ STATIC_URL }}js/IPRIVideo.js"></script>

    <script>
        setTimeout(function () {
            var script = document.createElement("script");

            // This script has a callback function that will run when the script has
            // finished loading.
            script.src = "{{ STATIC_URL }}js/video.js";
            script.type = "text/javascript";
            document.getElementsByTagName("head")[0].appendChild(script);
        } , 1500);
    </script>
{% endblock %}